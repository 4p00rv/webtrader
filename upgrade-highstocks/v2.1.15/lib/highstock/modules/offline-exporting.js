!function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(a){!function(a){function b(a,b){var c=f.getElementsByTagName("head")[0],d=f.createElement("script");d.type="text/javascript",d.src=a,d.onload=b,c.appendChild(d)}var c=a.merge,d=a.win,e=d.navigator,f=d.document,g=d.URL||d.webkitURL||d,h=/Edge\/|Trident\/|MSIE /.test(e.userAgent),i=h?150:0;a.CanVGRenderer={},a.downloadURL=function(a,b){var c,g=f.createElement("a");if(e.msSaveOrOpenBlob)e.msSaveOrOpenBlob(a,b);else if(void 0!==g.download)g.href=a,g.download=b,g.target="_blank",f.body.appendChild(g),g.click(),f.body.removeChild(g);else try{if(c=d.open(a,"chart"),void 0===c||null===c)throw"Failed to open window"}catch(h){d.location.href=a}},a.svgToDataUrl=function(a){var b=-1<e.userAgent.indexOf("WebKit")&&0>e.userAgent.indexOf("Chrome");try{if(!b&&0>e.userAgent.toLowerCase().indexOf("firefox"))return g.createObjectURL(new d.Blob([a],{type:"image/svg+xml;charset-utf-16"}))}catch(c){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(a)},a.imageToDataUrl=function(a,b,c,e,g,h,j,k,l){var m,n=new d.Image,o=function(){setTimeout(function(){var d,h=f.createElement("canvas"),i=h.getContext&&h.getContext("2d");try{if(i){h.height=n.height*e,h.width=n.width*e,i.drawImage(n,0,0,h.width,h.height);try{d=h.toDataURL(b),g(d,b,c,e)}catch(k){m(a,b,c,e)}}else j(a,b,c,e)}finally{l&&l(a,b,c,e)}},i)},p=function(){k(a,b,c,e),l&&l(a,b,c,e)};m=function(){n=new d.Image,m=h,n.crossOrigin="Anonymous",n.onload=o,n.onerror=p,n.src=a},n.onload=o,n.onerror=p,n.src=a},a.downloadSVGLocal=function(c,h,i,j,k,l){var m,n,o,p=!0,q=a.getOptions().exporting.libURL;if("image/svg+xml"===i)try{e.msSaveOrOpenBlob?(n=new MSBlobBuilder,n.append(c),m=n.getBlob("image/svg+xml")):m=a.svgToDataUrl(c),a.downloadURL(m,h),l&&l()}catch(r){k()}else m=a.svgToDataUrl(c),o=function(){try{g.revokeObjectURL(m)}catch(a){}},a.imageToDataUrl(m,i,{},j,function(b){try{a.downloadURL(b,h),l&&l()}catch(c){k()}},function(){var g=f.createElement("canvas"),m=g.getContext("2d"),n=c.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*j,r=c.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*j,s=function(){m.drawSvg(c,0,0,n,r);try{a.downloadURL(e.msSaveOrOpenBlob?g.msToBlob():g.toDataURL(i),h),l&&l()}catch(b){k()}finally{o()}};g.width=n,g.height=r,d.canvg?s():(p=!0,q="/"!==q.substr[-1]?q+"/":q,b(q+"rgbcolor.js",function(){b(q+"canvg.js",function(){s()})}))},k,k,function(){p&&o()})},a.Chart.prototype.getSVGForLocalExport=function(b,c,d,e){var f,g,h,i,j,k=this,l=0,m=function(a,b,c){++l,c.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",a),l===f.length&&e(k.sanitizeSVG(g.innerHTML))};a.wrap(a.Chart.prototype,"getChartHTML",function(a){return g=this.container.cloneNode(!0),a.apply(this,Array.prototype.slice.call(arguments,1))}),k.getSVGForExport(b,c),f=g.getElementsByTagName("image");try{if(f.length)for(i=0,j=f.length;j>i;++i)h=f[i],a.imageToDataUrl(h.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:h},b.scale,m,d,d,d);else e(k.sanitizeSVG(g.innerHTML))}catch(n){d()}},a.Chart.prototype.exportChartLocal=function(b,c){var d=this,e=a.merge(d.options.exporting,b),f=e&&e.type||"image/png",g=function(){if(!1===e.fallbackToExportServer){if(!e.error)throw"Fallback to export server disabled";e.error()}else d.exportChart(e)},i=function(b){var c=(e.filename||"chart")+"."+("image/svg+xml"===f?"svg":f.split("/")[1]);a.downloadSVGLocal(b,c,f,e.scale,g)};h&&"image/svg+xml"!==f&&d.container.getElementsByTagName("image").length?g():d.getSVGForLocalExport(e,c,g,i)},c(!0,a.getOptions().exporting,{libURL:"http://code.highcharts.com@product.cdnpath@/5.0.0/lib/",buttons:{contextButton:{menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}}]}}})}(a)});